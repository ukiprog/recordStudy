= render "common/teacher_header", title: "学習記録 (#{@startWeek}~) #{@student.name}"
.main
  .record
    .record__title
      .record__title__time
        %p 6:00
        %p 15:00
        %p 24:00
      .record__title__summary
        %p 国
        %p 数
        %p 英
        %p 理
        %p 社
      .record__title__comment
        %p 総括
    = render partial: "record_row", collection: @records, as: "record"
    .record__feedback
      フィードバック
      - feedback = Feedback.where(user_id: current_user.id).where(student_id: @student.id).where(feedback_at: "#{@startWeek} 00:00:00").take
      - if feedback.nil?
        = form_for Feedback.new, url: feedback_index_path, method: :post do |f|
          =f.hidden_field :feedback_at, value: @startWeek
          =f.hidden_field :student_id, value: @student.id
          =f.text_area :feedback, class: "record__feedback__input"
          =f.submit "登録", class: "record__feedback__submit", style: "display: none;"
      - else
        = form_for feedback, url: feedback_path(feedback.id), method: :patch do |f|
          =f.hidden_field :feedback_at
          =f.hidden_field :student_id
          =f.text_area :feedback, class: "record__feedback__input"
          =f.submit "保存", class: "record__feedback__submit", style: "display: none;"
